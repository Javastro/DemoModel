components:
  schemas:
    Point:
      type: "object"
      description: "location on the sky in spherical coordinates"
      properties:
        alpha:
          type: "number"
          built-in: "true"
          description: "longitude angle"
        delta:
          type: "number"
          built-in: "true"
          description: "latitude angle"
      required:
      - "alpha"
      - "delta"
      additionalProperties: false
    Shape:
      type: "object"
      description: "base type of all shapes"
      properties:
        '@type':
          type: "string"
      required:
      - "@type"
    Circle:
      allOf:
      - $ref: "#/components/schemas/Shape"
      - type: "object"
        description: "a circular region on the sky"
        properties:
          center:
            $ref: "#/components/schemas/Point"
            description: "the centre of the circle"
          radius:
            type: "number"
            built-in: "true"
            description: "the radius of the circle"
        required:
        - "center"
        - "radius"
      unevaluatedProperties: false
    MultiShape:
      type: "object"
      description: "multiple simple shapes describing regions as a single value"
      properties:
        shapes:
          type: "array"
          items:
            $ref: "#/components/schemas/Shape"
          description: ""
      required:
      - "shapes"
      additionalProperties: false
    Polygon:
      allOf:
      - $ref: "#/components/schemas/Shape"
      - type: "object"
        description: "a simple polygon region on the sky defined a sequence of points\
          \ connected by great-circle segments"
        properties:
          points:
            type: "array"
            items:
              $ref: "#/components/schemas/Point"
            description: ""
        required:
        - "points"
      unevaluatedProperties: false
    PhotometricSystem:
      type: "object"
      description: ""
      properties:
        '@type':
          type: "string"
          description: "UType as type discriminator"
        description:
          type: "string"
          built-in: "true"
          description: "String representation Photometric system"
        detectorType:
          type: "number"
          built-in: "true"
          description: "Type of detector (e.g energy or photon counter)"
        photometryFilter:
          type: "array"
          items:
            $ref: "#/components/schemas/PhotometryFilter"
        _id:
          type: "integer"
          description: "surrogate key"
      required:
      - "detectorType"
      - "photometryFilter"
      additionalProperties: false
    PhotometryFilter:
      type: "object"
      description: ""
      properties:
        '@type':
          type: "string"
          description: "UType as type discriminator"
        name:
          type: "string"
          built-in: "true"
          description: "Filter Name in the instrumental configuration"
        description:
          type: "string"
          built-in: "true"
          description: "Text description of the filter band"
        bandName:
          type: "string"
          built-in: "true"
          description: ""
        dataValidityFrom:
          type: "string"
          format: "date-time"
          description: ""
        dataValidityTo:
          type: "string"
          format: "date-time"
          description: ""
        spectralLocation:
          $ref: "#/components/schemas/RealQuantity"
          description: ""
        _id:
          type: "integer"
          description: "surrogate key"
      required:
      - "name"
      - "description"
      - "bandName"
      - "dataValidityFrom"
      - "dataValidityTo"
      - "spectralLocation"
      additionalProperties: false
    catalog.LuminosityType:
      description: "vale"
      enum:
      - "magnitude"
      - "flux"
    catalog.SourceClassification:
      description: ""
      enum:
      - "target"
      - "calibrator"
    catalog.AlignedEllipse:
      allOf:
      - $ref: "#/components/schemas/catalog.SkyError"
      - type: "object"
        description: ""
        properties:
          longError:
            type: "number"
            built-in: "true"
            description: ""
          latError:
            type: "number"
            built-in: "true"
            description: ""
        required:
        - "longError"
        - "latError"
      unevaluatedProperties: false
    catalog.CircleError:
      allOf:
      - $ref: "#/components/schemas/catalog.SkyError"
      - type: "object"
        description: ""
        properties:
          radius:
            type: "number"
            built-in: "true"
            description: ""
        required:
        - "radius"
      unevaluatedProperties: false
    catalog.GenericEllipse:
      allOf:
      - $ref: "#/components/schemas/catalog.SkyError"
      - type: "object"
        description: ""
        properties:
          major:
            type: "number"
            built-in: "true"
            description: "major axis of error ellipse"
          minor:
            type: "number"
            built-in: "true"
            description: "minor axis of error ellipse"
          pa:
            type: "number"
            built-in: "true"
            description: "Position angle of error ellipse in coordinate system of\
              \ position."
        required:
        - "major"
        - "minor"
        - "pa"
      unevaluatedProperties: false
    catalog.SkyCoordinate:
      type: "object"
      description: ""
      properties:
        coord:
          $ref: "#/components/schemas/Point"
          description: ""
        frame:
          oneOf:
          - type: "string"
            built-in: "true"
          - $ref: "#/components/schemas/catalog.SkyCoordinateFrame"
          description: ""
      required:
      - "coord"
      - "frame"
      additionalProperties: false
    catalog.SkyError:
      type: "object"
      description: "Error of a position on the sky."
      properties:
        '@type':
          type: "string"
      required:
      - "@type"
    catalog.AbstractSource:
      allOf:
      - $ref: "#/components/schemas/catalog.AstroObject"
      - type: "object"
        description: ""
        properties:
          name:
            type: "string"
            built-in: "true"
            description: ""
          description:
            type: "string"
            built-in: "true"
            description: ""
          position:
            $ref: "#/components/schemas/catalog.SkyCoordinate"
            description: ""
          positionError:
            $ref: "#/components/schemas/catalog.SkyError"
            description: ""
          classification:
            $ref: "#/components/schemas/catalog.SourceClassification"
            description: ""
          luminosity:
            type: "array"
            items:
              $ref: "#/components/schemas/catalog.LuminosityMeasurement"
        required:
        - "name"
        - "position"
        - "classification"
    catalog.AstroObject:
      type: "object"
      description: "Generic base class for all astronomical objects."
      discriminator:
        propertyName: "@type"
        mapping:
          DemoDM:catalog.AbstractSource: "#/components/schemas/catalog.AbstractSource"
          DemoDM:catalog.SDSSSource: "#/components/schemas/catalog.SDSSSource"
          DemoDM:catalog.Source: "#/components/schemas/catalog.Source"
          DemoDM:catalog.TwoMassSource: "#/components/schemas/catalog.TwoMassSource"
      properties:
        '@type':
          type: "string"
          description: "UType as type discriminator"
        objectType:
          type: "string"
          built-in: "true"
          description: ""
        _id:
          type: "integer"
          description: "surrogate key"
      required:
      - "@type"
    catalog.LuminosityMeasurement:
      type: "object"
      description: ""
      properties:
        '@type':
          type: "string"
          description: "UType as type discriminator"
        value:
          $ref: "#/components/schemas/RealQuantity"
          description: ""
        error:
          $ref: "#/components/schemas/RealQuantity"
          description: ""
        description:
          type: "string"
          built-in: "true"
          description: ""
        type:
          $ref: "#/components/schemas/catalog.LuminosityType"
          description: ""
        filter:
          oneOf:
          - type: "number"
          - $ref: "#/components/schemas/PhotometryFilter"
          description: ""
        _id:
          type: "integer"
          description: "surrogate key"
      required:
      - "value"
      - "type"
      - "filter"
      additionalProperties: false
    catalog.SDSSSource:
      allOf:
      - $ref: "#/components/schemas/catalog.AbstractSource"
      - type: "object"
        description: ""
        properties: {}
        required: []
      unevaluatedProperties: false
    catalog.SkyCoordinateFrame:
      type: "object"
      description: ""
      properties:
        '@type':
          type: "string"
          description: "UType as type discriminator"
        name:
          type: "string"
          built-in: "true"
          description: ""
        documentURI:
          type: "string"
          format: "uri"
          description: ""
        equinox:
          type: "string"
          built-in: "true"
          description: ""
        system:
          type: "string"
          built-in: "true"
          description: ""
      required:
      - "name"
      - "documentURI"
      additionalProperties: false
    catalog.Source:
      allOf:
      - $ref: "#/components/schemas/catalog.AbstractSource"
      - type: "object"
        description: ""
        properties: {}
        required: []
      unevaluatedProperties: false
    catalog.TwoMassSource:
      allOf:
      - $ref: "#/components/schemas/catalog.AbstractSource"
      - type: "object"
        description: ""
        properties: {}
        required: []
      unevaluatedProperties: false
    catalog.inner.Testing:
      type: "object"
      description: ""
      properties:
        '@type':
          type: "string"
          description: "UType as type discriminator"
        plain:
          type: "string"
          built-in: "true"
          description: "a single string"
        unbounded:
          type: "array"
          items:
            type: "string"
            built-in: "true"
          description: "an array with many elements"
        apoint:
          $ref: "#/components/schemas/Point"
          description: ""
        acircle:
          $ref: "#/components/schemas/Circle"
          description: ""
        apoly:
          $ref: "#/components/schemas/Polygon"
          description: ""
        _id:
          type: "integer"
          description: "surrogate key"
      required:
      - "plain"
      - "apoint"
      - "acircle"
      - "apoly"
      additionalProperties: false
    catalog.inner.SourceCatalogue:
      type: "object"
      description: ""
      properties:
        '@type':
          type: "string"
          description: "UType as type discriminator"
        name:
          type: "string"
          built-in: "true"
          description: "the name of the catalogue"
        entry:
          type: "array"
          items:
            anyOf:
            - $ref: "#/components/schemas/catalog.SDSSSource"
            - $ref: "#/components/schemas/catalog.Source"
            - $ref: "#/components/schemas/catalog.TwoMassSource"
        aTest:
          type: "object"
          $ref: "#/components/schemas/catalog.inner.Testing"
        aTestMore:
          type: "array"
          items:
            $ref: "#/components/schemas/catalog.inner.Testing"
        _id:
          type: "integer"
          description: "surrogate key"
      required:
      - "name"
      additionalProperties: false
